<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loaders</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.11/c3.min.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.11/c3.min.css"/>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.6.11/c3.min.js"></script>
</head>
<style>
 #outer-circle {
   background: #f2f7f9;
   border-radius: 50%;
   border: 2px solid #b266ff;
   height: 400px;
   width: 400px;
   position: relative;
 }
 #inner-circle {
   position: absolute;
   background: #ffffff;
   border-radius: 50%;
   height: 300px;
   width: 300px;
   top: 50%;
   left: 50%;
   margin: -150px 0px 0px -150px;
 }













</style>
<div class="container">
    <div class="jumbotron">
        <h1 class="text-center">Algorithms</h1>
    </div>
    <div class="row">
        <button class="btn btn-primary btn-sm ml-3" onclick="bubbleSort()">Bubble Sort</button>
        <button class="btn btn-info btn-sm ml-3" onclick="selectionSort()">Selection Sort</button>
        <button class="btn btn-danger btn-sm ml-3" onclick="createdRmData()">Modify Array</button>
        <button class="btn btn-warning btn-sm ml-3">Merge Sort</button>
    </div>
    <div class="row">
        <div class="btn-group ml-auto p-3">
            <button type="button" class="btn btn-primary dropdown-toggle btn-sm" data-toggle="dropdown">
                Choose Sorting algorithm
            </button>
            <div class="dropdown-menu dropdown-menu-right col-xs-12"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <div class="card">
                <div class="card-header text-center">Bubble Sort</div>
                <div class="card-body" style="height:300px;width:500px">
                    <div id="chart"></div>
                </div>
            </div>
        </div>
        <div class="col-sm-6">
            <div class="card-header">Progress bar</div>
            <div class="card-body">
                <div id="outer-circle">
                    <div id="inner-circle">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>

    var i=0;
    var j=0;
    var k=0;
    var arr=[9,5,7,3,4,1,50,45,67,34,90];

    function getRndInteger(min, max) {
        return Math.floor(Math.random() * (max - min + 1) ) + min;
    }

    function createdRmData(){
        var array1 = [];
        var array2 = [];
        for(var i=1;i<7;i++){
            array1.push(getRndInteger(i,50))
        }
        arr = array1
        console.log(arr)
        updateChart(arr)
    }

    function updateChart(data){
        var chart = c3.generate({
            bindto: '#chart',
            data: {
              columns: [
                ['data'].concat(data)
              ],
              type: 'bar',
              colors: {
                data: '#ff7f00'
              },
            }
        });
    }

    function swap(arr, first_Index, second_Index){
        var temp = arr[first_Index];
        arr[first_Index] = arr[second_Index];
        arr[second_Index] = temp;
    }

    function bubbleSort(){
        var length = arr.length;
        if (j >= length - i - 1) {
          j = 0;
          i++;
        }
        if (i < length) {
          if (arr[j] > arr[j+1]) {
            swap(arr,j,j+1)
            updateChart(arr)
          }
          j++;
          console.log(arr)
          setTimeout(bubbleSort, 1000);
        }
        else{
            i=0;
            j=0;
        }
    }

    function selectionSort(){
        console.log(k,arr)
        var length = arr.length;
        if (k < length) {
            var min;
            ele=Math.min(...arr.slice(k))
            min = arr.indexOf(ele)
            if (k !== min){
                swap(arr,k,min)
                updateChart(arr)
            }
            k++;
            setTimeout(selectionSort, 1000);
        }
        else{
            k=0
        }
    }

    function createDropdown(text){
        var dropdownEle = document.querySelector('.dropdown-menu')
        var ele = document.createElement('button')
        ele.classList.add('dropdown-item')
        ele.classList.add('btn-sm')
        ele.textContent = text
        dropdownEle.appendChild(ele)
    }

    createDropdown('Bubble Sort')








</script>
</body>
</html>